<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3Dテトリス完全版</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="info">
      <b>3Dテトリス操作説明</b><br />
      ← → : 左右移動 (X軸)<br />
      ↑ ↓ : 前後移動 (Z軸)<br />
      Z / X : 左右回転 (Y軸)<br />
      A / S : 前後回転 (X軸)<br />
      Q / W : 捻り回転 (Z軸)<br />
      Space : 即落下<br />
      マウス : 自由視点回転
    </div>

    <div id="gameStats">
      <b>ゲーム情報</b><br />
      スコア: <span id="score">0</span><br />
      レベル: <span id="level">1</span><br />
      ライン: <span id="lines">0</span><br />
      REN: <span id="ren">0</span>
    </div>

    <div id="nextPiece">
      <b>Next Piece</b><br />
      <canvas id="nextCanvas" width="120" height="120"></canvas>
    </div>

    <!-- スタートボタン -->
    <div id="startButton">
      <button onclick="startGame()">スタート</button>
    </div>

    <!-- ゲームオーバー画面 -->
    <div id="gameOver" style="display: none;">
      <div class="game-over-content">
        <h1>GAME OVER</h1>
        <p>最終スコア: <span id="finalScore">0</span></p>
        <button onclick="startGame()">もう一度プレイ</button>
      </div>
    </div>

    <!-- モバイル用タッチコントロール -->
    <div id="mobileControls">
      <div class="control-section">
        <h3>移動</h3>
        <div class="dpad">
          <button class="control-btn" id="btn-up" data-key="ArrowUp">↑</button>
          <div class="dpad-middle">
            <button class="control-btn" id="btn-left" data-key="ArrowLeft">←</button>
            <button class="control-btn" id="btn-right" data-key="ArrowRight">→</button>
          </div>
          <button class="control-btn" id="btn-down" data-key="ArrowDown">↓</button>
        </div>
      </div>

      <div class="control-section">
        <h3>回転</h3>
        <div class="rotation-controls">
          <button class="control-btn rotate-btn" data-key="z">Y軸 ←</button>
          <button class="control-btn rotate-btn" data-key="x">Y軸 →</button>
          <button class="control-btn rotate-btn" data-key="a">X軸 ←</button>
          <button class="control-btn rotate-btn" data-key="s">X軸 →</button>
          <button class="control-btn rotate-btn" data-key="q">Z軸 ←</button>
          <button class="control-btn rotate-btn" data-key="w">Z軸 →</button>
        </div>
      </div>

      <div class="control-section">
        <button class="control-btn drop-btn" id="btn-drop" data-key=" ">即落下</button>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="game.js"></script>
  </body>
</html>
